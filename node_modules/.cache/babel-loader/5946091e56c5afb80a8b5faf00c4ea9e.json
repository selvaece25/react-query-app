{"ast":null,"code":"import _objectSpread from \"/Users/selvakumar/Documents/personal.nosync/coding/react-query-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _window$__REDUX_DEVTO, _window;\n\nimport { createStore } from 'redux';\nexport var ACTIONS = {\n  CHANGE_DIET: 'CHANGE_DIET',\n  LOAD_MENU: 'LOAD_MENU',\n  ADD_TO_CART: 'ADD_TO_CART',\n  REMOVE_FROM_CART: 'REMOVE_FROM_CART'\n};\nvar initialState = {\n  authors: []\n};\n\nfunction foodReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ACTIONS.CHANGE_DIET:\n      {\n        var diet = state.diet;\n        var newDiet = diet === 'veg' ? 'all' : 'veg';\n        return _objectSpread(_objectSpread({}, state), {}, {\n          diet: newDiet,\n          cartByIds: {}\n        });\n      }\n\n    case ACTIONS.LOAD_MENU:\n      {\n        var menu = action.payload.menu;\n        var menuById = {};\n        menu.forEach(function (item) {\n          menuById[item.id] = item;\n        });\n        var allMenuId = menu.map(function (item) {\n          return item.id;\n        });\n        var vegMenuId = menu.filter(function (item) {\n          return item.diet === 'veg';\n        }).map(function (item) {\n          return item.id;\n        });\n        return _objectSpread(_objectSpread({}, state), {}, {\n          menuById: menuById,\n          menuIdList: {\n            all: allMenuId,\n            veg: vegMenuId\n          }\n        });\n      }\n\n    case ACTIONS.ADD_TO_CART:\n      {\n        var itemId = action.payload.itemId;\n        var cartByIds = state.cartByIds;\n        var cartItem = cartByIds[itemId] || {\n          quantity: 0\n        };\n        cartItem.quantity += 1;\n\n        var newCart = _objectSpread(_objectSpread({}, cartByIds), {}, {\n          [itemId]: cartItem\n        });\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          cartByIds: newCart\n        });\n      }\n\n    case ACTIONS.REMOVE_FROM_CART:\n      {\n        var _itemId = action.payload.itemId;\n        var _cartByIds = state.cartByIds;\n        var _cartItem = _cartByIds[_itemId];\n\n        if (!_cartItem) {\n          return state;\n        }\n\n        _cartItem.quantity -= 1;\n\n        var _newCart = _objectSpread(_objectSpread({}, _cartByIds), {}, {\n          [_itemId]: _cartItem\n        });\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          cartByIds: _newCart\n        });\n      }\n\n    default:\n      return state;\n  }\n}\n\nvar enableReduxDevTools = (_window$__REDUX_DEVTO = (_window = window).__REDUX_DEVTOOLS_EXTENSION__) === null || _window$__REDUX_DEVTO === void 0 ? void 0 : _window$__REDUX_DEVTO.call(_window);\nexport function createReduxStore() {\n  var store = createStore(foodReducer, enableReduxDevTools);\n  return store;\n}","map":{"version":3,"sources":["/Users/selvakumar/Documents/personal.nosync/coding/react-query-app/src/redux.js"],"names":["createStore","ACTIONS","CHANGE_DIET","LOAD_MENU","ADD_TO_CART","REMOVE_FROM_CART","initialState","authors","foodReducer","state","action","type","diet","newDiet","cartByIds","menu","payload","menuById","forEach","item","id","allMenuId","map","vegMenuId","filter","menuIdList","all","veg","itemId","cartItem","quantity","newCart","enableReduxDevTools","window","__REDUX_DEVTOOLS_EXTENSION__","createReduxStore","store"],"mappings":"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","sourcesContent":["import { createStore } from 'redux';\n\nexport const ACTIONS = {\n  CHANGE_DIET: 'CHANGE_DIET',\n  LOAD_MENU: 'LOAD_MENU',\n  ADD_TO_CART: 'ADD_TO_CART',\n  REMOVE_FROM_CART: 'REMOVE_FROM_CART',\n};\n\nconst initialState = {\n  authors: [],\n};\n\nfunction foodReducer(state = initialState, action) {\n  switch (action.type) {\n    case ACTIONS.CHANGE_DIET: {\n      const { diet } = state;\n      const newDiet = diet === 'veg' ? 'all' : 'veg';\n\n      return {\n        ...state,\n        diet: newDiet,\n        cartByIds: {},\n      };\n    }\n    case ACTIONS.LOAD_MENU: {\n      const { menu } = action.payload;\n\n      const menuById = {};\n      menu.forEach((item) => {\n        menuById[item.id] = item;\n      });\n      const allMenuId = menu.map((item) => item.id);\n      const vegMenuId = menu.filter((item) => item.diet === 'veg').map((item) => item.id);\n\n      return {\n        ...state,\n        menuById,\n        menuIdList: {\n          all: allMenuId,\n          veg: vegMenuId,\n        },\n      };\n    }\n    case ACTIONS.ADD_TO_CART: {\n      const { itemId } = action.payload;\n      const { cartByIds } = state;\n\n      const cartItem = cartByIds[itemId] || {\n        quantity: 0,\n      };\n\n      cartItem.quantity += 1;\n\n      const newCart = {\n        ...cartByIds,\n        [itemId]: cartItem,\n      };\n\n      return {\n        ...state,\n        cartByIds: newCart,\n      };\n    }\n    case ACTIONS.REMOVE_FROM_CART: {\n      const { itemId } = action.payload;\n      const { cartByIds } = state;\n\n      const cartItem = cartByIds[itemId];\n\n      if (!cartItem) {\n        return state;\n      }\n\n      cartItem.quantity -= 1;\n\n      const newCart = {\n        ...cartByIds,\n        [itemId]: cartItem,\n      };\n\n      return {\n        ...state,\n        cartByIds: newCart,\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nconst enableReduxDevTools = window.__REDUX_DEVTOOLS_EXTENSION__?.();\n\nexport function createReduxStore() {\n  const store = createStore(foodReducer, enableReduxDevTools);\n  return store;\n}"]},"metadata":{},"sourceType":"module"}